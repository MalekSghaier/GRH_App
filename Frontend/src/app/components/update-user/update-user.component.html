<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
  <title>AdminHub - Modifier Utilisateur</title>
</head>
<body>
  <app-shared-sidebar></app-shared-sidebar>
  
  <section id="content">
    <app-shared-navbar></app-shared-navbar>

    <main>
      <div class="form-wrapper">
        <div class="form-header">
          <a routerLink="/users" class="back-link">
            <i class='bx bx-arrow-back'></i> Retour à la liste
          </a>
          <h1><i class='bx bx-user-pin'></i> Modifier l'utilisateur</h1>
          <p>Mettez à jour les informations de l'utilisateur</p>
        </div>

        <div class="form-card">
          <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
            <!-- Section Informations -->
            <div class="form-section">
              <div class="form-grid">
                <!-- Nom et Prénom -->
                <div class="form-group">
                  <label for="name">
                    <i class='bx bx-user'></i> Nom complet
                  </label>
                  <input type="text" id="name" formControlName="name" 
                         placeholder="Entrez le nom complet">
                  <div *ngIf="userForm.get('name')?.invalid && userForm.get('name')?.touched" 
                       class="form-error">
                    <i class='bx bx-error-circle'></i> Le nom est requis
                  </div>
                </div>

                <!-- Email -->
                <div class="form-group">
                  <label for="email">
                    <i class='bx bx-envelope'></i> Adresse email
                  </label>
                  <input type="email" id="email" formControlName="email" 
                         placeholder="Entrez l'email">
                  <div *ngIf="userForm.get('email')?.invalid && userForm.get('email')?.touched" 
                       class="form-error">
                    <i class='bx bx-error-circle'></i> Email invalide
                  </div>
                </div>

                <!-- Rôle -->
                <div class="form-group">
                  <label for="role">
                    <i class='bx bx-id-card'></i> Rôle
                  </label>
                  <div class="custom-select">
                    <select id="role" formControlName="role">
                      <option value="" disabled selected>Sélectionnez un rôle</option>
                      <option value="employé">Employé</option>
                      <option value="stagiaire">Stagiaire</option>
                    </select>
                    <i class='bx bx-chevron-down'></i>
                  </div>
                  <div *ngIf="userForm.get('role')?.invalid && userForm.get('role')?.touched" 
                       class="form-error">
                    <i class='bx bx-error-circle'></i> Sélectionnez un rôle
                  </div>
                </div>

                <!-- Compagnie -->
                <div class="form-group">
                  <label for="company">
                    <i class='bx bx-buildings'></i> Compagnie
                  </label>
                  <input type="text" id="company" formControlName="company" 
                         placeholder="Entrez la compagnie">
                  <div *ngIf="userForm.get('company')?.invalid && userForm.get('company')?.touched" 
                       class="form-error">
                    <i class='bx bx-error-circle'></i> La compagnie est requise
                  </div>
                </div>
              </div>
            </div>

            <!-- Boutons -->
            <div class="form-actions">
              <button type="button" class="cancel-btn" routerLink="/users">
                Annuler
              </button>
              <button type="submit" class="submit-btn" >
                <i class='bx bx-save'></i> Enregistrer les modifications
              </button>
            </div>
          </form>
        </div>
      </div>
    </main>
  </section>
</body>
</html>